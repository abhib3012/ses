<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>SES</title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	
	<style>
		body {
	  padding-top: 50px;
	}
	.starter-template {
	  padding: 40px 15px;
	  text-align: center;
	}
	
	</style>
    <script>
	    if (location.protocol != 'https:')
		{
		 location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
		}
	</script>
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="javascript:" onclick="grade()">SES</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="javascript:" onclick="grade()">Grade</a></li>
            <li><a href="javascript:" onclick="ask()">Ask</a></li>
            <li><a href="javascript:" onclick="contact()">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

      <div class="starter-template">
        <h1>SES - The Subjective Evaluation System</h1>
        <p class="lead">We have created this system with the purpose of evaluation of subjective responses. This is akin to the kind of revolution that OCR brought to the field of education by making MCQ types a possibility.</p>
      </div>

    </div><!-- /.container -->
    
    <div class="container" id="grade">

      <div class="starter-template">
        <h3>Grade</h3>
        <input type="text" name="answer" class="form-control" placeholder="Who is the father of Robert" id="answer-text"/> </br>
        <input class="btn btn-default" type="button" value="Grade" onclick="getGrades()">
      </div>
	  <div>
		  <span class="scoreChart"></span>
		  <center><span id="returnedGrade"></span></center>
	  </div>	  
    </div><!-- /.container -->

    <div class="container" id="ask" style="display: none">

      <div class="starter-template">
        <h3>Ask</h3>
        <input type="text" name="answer" class="form-control" placeholder="Question ?" id="question-value"/> </br>
        <input class="btn btn-default" type="button" value="Ask" onclick="getAnswer()">
      </div>
	  <div>
		  <center>
		    <span id="subject"></span> </br>
		    <span id="definition"></span> 
		  </center>
	  </div>
    </div><!-- /.container -->
    
    <div class="container" id="contact" style="display: none">

      <div class="starter-template">
        <h3>Contact</h3>
		<p>
			Shefali Bhatnagar </br>
			shefali29.sb@gmail.com
		</p>
		<p>
			Abhishek Bhattacharya </br>
			abhib@acm.org
		</p>
      </div>
    </div><!-- /.container -->



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script>
		function grade() {
			document.getElementById("grade").style = "display: block;";
			document.getElementById("ask").style = "display: none;";
			document.getElementById("contact").style = "display: none;";
		}
		function ask() {
			document.getElementById("ask").style = "display: block;";
			document.getElementById("grade").style = "display: none;";
			document.getElementById("contact").style = "display: none;";
		}
		function contact() {
			document.getElementById("ask").style = "display: none;";
			document.getElementById("grade").style = "display: none;";
			document.getElementById("contact").style = "display: block;";
		}
		
		function getGrades() {
			
			$.ajax({
			    type: 'POST',
			    // make sure you respect the same origin policy with this url:
			    // http://en.wikipedia.org/wiki/Same_origin_policy
			    url: 'https://ses.abhib.xyz/grade/',
			    data: { 
			        'answer': document.getElementById("answer-text").value
			    },
			    success: function(msg){
			        //alert(msg);
			        if(msg.score == -1) {
				        document.getElementById("returnedGrade").innerHTML = msg.errorInfo;
			        }
			        else {
			        	document.getElementById("returnedGrade").innerHTML = msg.score;
					}
			    }
			});

		}
		function getAnswer() {
			$.ajax({
			    type: 'POST',
			    // make sure you respect the same origin policy with this url:
			    // http://en.wikipedia.org/wiki/Same_origin_policy
			    url: 'https://ses.abhib.xyz/ask/',
			    data: { 
			        'question': document.getElementById("question-value").value
			    },
			    success: function(msg){
			        //alert(msg);
			        if(msg.definition != 0) {
			        	document.getElementById("subject").innerHTML = "Definition of <b>" + msg.subject + "</b>";
			        	document.getElementById("definition").innerHTML = msg.definition;
			        	document.getElementById("definition").style = "display: block;";
			        }
			        else {
				        document.getElementById("subject").innerHTML = "<b>" + msg.subject + "</b>";
				        document.getElementById("definition").style = "display: none;";
			        }
			        
			        //drawChar(msg.score);
			    }
			});
		}
	</script>
  </body>
</html>
